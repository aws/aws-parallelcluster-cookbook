# Generated by Chef for AWS ParallelCluster <%= node['cfncluster']['cfn_node_type'] -%>
# Local modifications could be be overwritten.
<% case node['cfncluster']['cfn_node_type'] -%>
<%# MasterServer -%>
<% when 'MasterServer' -%>
<% unless node['cfncluster']['cfn_scheduler'] == 'awsbatch' -%>
[program:sqswatcher]
command = <%= node['cfncluster']['virtualenv'] %>/bin/sqswatcher
redirect_stderr = true
stdout_logfile = /var/log/sqswatcher

[program:jobwatcher]
command = <%= node['cfncluster']['virtualenv'] %>/bin/jobwatcher
redirect_stderr = true
stdout_logfile = /var/log/jobwatcher

<% end -%>

<%# ComputeFleet -%>
<% when 'ComputeFleet' -%>
[program:nodewatcher]
command = <%= node['cfncluster']['virtualenv'] %>/bin/nodewatcher
redirect_stderr = true
stdout_logfile = /var/log/nodewatcher
<% end -%>
