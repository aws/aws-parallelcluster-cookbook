---
verifier:
  name: inspec
  inspec_tests:
    - test

suites:
  - name: sudo
    run_list:
      - recipe[aws-parallelcluster-platform::sudo_install]
    verifier:
      controls:
        - /tag:install_sudo/
  - name: users
    run_list:
      - recipe[aws-parallelcluster-platform::users]
    verifier:
      controls:
        - /tag:install_users/
  - name: directories
    run_list:
      - recipe[aws-parallelcluster-platform::directories]
    verifier:
      controls:
        - /pcluster_directories_exist/
        - /pcluster_log_dir_is_configured/
  - name: isolated
    run_list:
      - recipe[aws-parallelcluster-tests::setup]
      - recipe[aws-parallelcluster-platform::isolated_install]
    verifier:
      controls:
        - /patch_isolated_instance_script_created/

