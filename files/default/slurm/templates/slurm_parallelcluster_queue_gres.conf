# This file is automatically generated by pcluster
{% for compute_resource in queue_config.ComputeResources %}
    {% if compute_resource.InstanceType | gpus > 0 %}
        {% set static_size = compute_resource.MinCount %}
        {% set dynamic_size = compute_resource.MaxCount - compute_resource.MinCount %}
        {% set sanitized_instance_type = compute_resource.InstanceType | sanify_instance_type %}
        {% if static_size > 0 %}
NodeName={{ queue_name }}-st-{{ sanitized_instance_type }}-[1-{{ static_size }}] Name=gpu Type={{ compute_resource.InstanceType | gpu_type }} File=/dev/nvidia[0-{{ compute_resource.InstanceType | gpus - 1 }}]
        {% endif %}
        {% if dynamic_size > 0 %}
NodeName={{ queue_name }}-dy-{{ sanitized_instance_type }}-[1-{{ dynamic_size }}] Name=gpu Type={{ compute_resource.InstanceType | gpu_type }} File=/dev/nvidia[0-{{ compute_resource.InstanceType | gpus - 1 }}]
        {% endif %}
    {% endif %}
{% endfor %}
